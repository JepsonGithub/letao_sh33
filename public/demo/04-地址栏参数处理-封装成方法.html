<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

<!--
  面试题:
    1. 有一个地址  index.html?name=pp&age=18&desc=帅
    2. 要求: 获取所有的地址栏参数, 进行处理, 处理成一个对象
    3. 对象格式: { name: 'pp', age: 18, desc: "帅" }
-->
<script>

  function getSearch( k ) {
    // 利用 location.search 获取地址栏参数
    var str = location.search;

    // 进行中文解码
    str = decodeURI( str );   //  ?name=pp&age=18&desc=帅

    // 去掉问号
    // start从哪开始, end到哪结束, 包括start, 不包括end
    // 如果, end不传, 表示从 start 开始, 截取到最后
    // str.slice(start, end)
    str = str.slice( 1 );     //  name=pp&age=18&desc=帅

    // 根据 & 进行分割
    var arr = str.split("&");   // ["name=pp", "age=18", "desc=帅"]

    var obj = {};

    // 遍历数组, 获取键和值
    arr.forEach(function( v, i ) {    // v  "age=18"
      var key = v.split("=")[0]; // age
      var value = v.split("=")[1]; // 18
      obj[ key ] = value;
    });

    return obj[ k ];
  }
  // 点语法        obj.k     =>  访问的是 obj 的 k 属性
  // 中括号语法    obj[ k ]   =>  将 k 当成变量进行解析, 再访问对应的属性

  var age = getSearch("age");
  console.log( age );



</script>

</body>
</html>